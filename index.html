<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Jetloader - demo</title>
    <script type="module" src="./jet-template-loader.js"></script>

    <link rel="import" href="./template/post.html">
    
</head>
<body>

<script type="module">
    
    import { loadTemplate, bindTemplate, loadText } from './jet-template-loader.js';


    loadTemplate('./template/post.html', postCollection[0])
    .then( template => { 
        document.body.appendChild(template.content); 
    });

    loadText('./template/post.html')
    .then( templateText => {
        postCollection.forEach( post => {
            let template = bindTemplate(templateText, post);
            document.body.appendChild(template.content);
        });
    })


</script>


</body>
</html>

<script>
    let postCollection = 
    [
        { 
            'heading':  'My third post',
            'ingress':  'It all started the day when I was 10 minutes late for work for the 10th time....',
            'bodytext': 'It was a sunny day and everyone was wishing they had a work that involved some outside work, but I am a software engineer and that involves nothing but indoor staring at a artificially illuminated screen for 8 hours a day...',
            'visitorCount': (10 * 4.3),
        },
        { 
            'heading':  'My second post',
            'ingress':  'It all started the day when I was 10 minutes late for work for the 10th time....',
            'bodytext': 'It was a sunny day and everyone was wishing they had a work that involved some outside work, but I am a software engineer and that involves nothing but indoor staring at a artificially illuminated screen for 8 hours a day...',
            'visitorCount': (10 * 8.3),
        },
        { 
            'heading':  'My first post',
            'ingress':  'It all started the day when I was 10 minutes late for work for the 10th time....',
            'bodytext': 'It was a sunny day and everyone was wishing they had a work that involved some outside work, but I am a software engineer and that involves nothing but indoor staring at a artificially illuminated screen for 8 hours a day...',
            'visitorCount': (10 * 12.3),
        },
    ];
</script>